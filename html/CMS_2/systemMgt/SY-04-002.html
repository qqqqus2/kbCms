<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>KB 증권 CMS</title>
    <link rel="shortcut icon" type="image/x-icon" href="/img/common/favicon.png" />

    <!-- css -->
    <link href="/kbCms/css/main.css" rel="stylesheet" />

    <!-- js -->
    <script src="/kbCms/js/lib/jquery-3.6.0.min.js"></script>
    <script src="/kbCms/js/lib/moment.min.js"></script>
    <script src="/kbCms/js/lib/datepicker/daterangepicker.js"></script>
    <script src="/kbCms/js/pubCustom.js"></script>
    <script src="/kbCms/js/common/common.js"></script>    
  </head>

  <body>
    <!-- wrap -->
    <section class="kb-wrap">
      <!-- 헤더 (퍼블용 include 입니다 개발용 include는 다시 지정하셔야 합니다) -->
      <header class="kb-navbar">
        <div class="navbar-top">
          <!-- 메뉴 열림 -->
          <button id="btnExpand" type="button" class="btn-expand"><span class="sr-only">사이드 바 펼치기</span></button>
          <div class="navbar-brand-wrap">
            <a class="navbar-brand" href="../index.html" aria-label="KB 증권 콘텐츠 관리 시스템"><strong class="sr-only">KB 증권 콘텐츠 관리 시스템</strong></a>
          </div>

          <ul class="navbar-nav kb-navbar-util">
            <li class="nav-item">
              <div class="btn-group" role="group">
                <button id="btnDrop" type="button" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><strong>김국민국민국민</strong>(KB123456)님</button>
                <!-- <div class="dropdown-menu" aria-labelledby="btnDrop">
                <a class="dropdown-item" href="#">비밀번호 변경</a>
                </div> -->
                <!-- 나의 계정정보 -->
                <article class="account-info">
                  <div class="account-dialog">
                    <div class="account-content">
                      <!-- 상태값 없음 / 신청 Case -->
                      <div class="account-head">
                        <h6 class="tit">Guest</h6>
                        <!-- <h6 class="tit">Guest | 신청</h6> -->
                      </div>
  
                      <!-- 반려 / 사용중지 Case 
                      <div class="account-head stop-using">
                        <h6 class="tit">Guest | 반려</h6>
                        <h6 class="tit">Guest | 사용중지</h6>
                      </div> -->

                      <div class="account-body pb-24">
                        <div class="account-info-wrap">
                          <dl>
                            <dt>이름</dt>
                            <dd>김증권</dd>
                          </dl>
                          <dl>
                            <dt>사번</dt>
                            <dd>12345667</dd>
                          </dl>
                          <dl>
                            <dt>부서</dt>
                            <dd>콘텐츠 전략 스쿼드</dd>
                          </dl>
                          <div class="last-login-info">
                            <p class="tit">마지막 접속 일시</p>
                            <p>2024-04-10 12:23:41</p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </article>
              </div>
            </li>
            <li class="nav-item"><button type="button" class="nav-link log-out">로그아웃</button></li>
          </ul>
        </div>
      </header>
      <!-- //헤더 -->

      <!-- container -->
      <div class="kb-container">
        <!-- 사이드바 (퍼블용 include 입니다 개발용 include는 다시 지정하셔야 합니다)-->
        <div class="kb-sidebar">
          <div class="kb-sidebar-inner" id="kb-lnb-nav">
            <nav class="kb-lnb" aria-label="Main navigation">
              <ul class="kb-lnb-dep1">
                <li>
                  <a href="/html/dashboard/dashboard.html" class="kb-lnb-link"><span>대시보드</span></a>
                </li>
                <li>
                  <a href="#" class="kb-lnb-link"><span>콘텐츠 생성/배포</span></a>
                  <ul class="kb-lnb-dep2">
                    <li><a href="#" class="kb-lnb-link">콘텐츠(AEM) 작성</a></li>
                    <li><a href="#" class="kb-lnb-link">콘텐츠 관리</a></li>
                    <li><a href="#" class="kb-lnb-link">콘텐츠 부가정보 등록</a></li>
                    <li><a href="#" class="kb-lnb-link">콘텐츠 사용신청</a></li>
                    <li><a href="#" class="kb-lnb-link">콘텐츠 제작요청</a></li>
                    <li><a href="#" class="kb-lnb-link">금지어/맞춤법 검사</a></li>
                  </ul>
                </li>
                <li>
                  <a href="#" class="kb-lnb-link"><span>콘텐츠속성 관리</span></a>
                  <ul class="kb-lnb-dep2">
                    <li><a href="#" class="kb-lnb-link">타깃분류 관리</a></li>
                    <li><a href="#" class="kb-lnb-link">특성분류 관리</a></li>
                    <li><a href="#" class="kb-lnb-link">내용분류 관리</a></li>
                    <li><a href="#" class="kb-lnb-link">연관키워드 관리</a></li>
                    <li><a href="#" class="kb-lnb-link">언어가이드 게시판</a></li>
                    <li><a href="#" class="kb-lnb-link">금지어/대체어 관리</a></li>
                  </ul>
                </li>
                <li>
                  <a href="#" class="kb-lnb-link"><span>모니터링</span></a>
                  <ul class="kb-lnb-dep2">
                    <li>
                      <a href="#" class="kb-lnb-link">모니터링 대시보드</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">전체 현황</a></li>
                        <li><a class="kb-lnb-link" href="#">MAP별 현황</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#" class="kb-lnb-link">콘텐츠별 현황</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">콘텐츠 공개현황</a></li>
                        <li><a class="kb-lnb-link" href="#">콘텐츠 현황 조회</a></li>
                        <li><a class="kb-lnb-link" href="#">콘텐츠 반응 현황</a></li>
                        <li><a class="kb-lnb-link" href="#">콘텐츠 부서활용 현황</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#" class="kb-lnb-link">인사이트 분석</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">내부 트렌드 분석</a></li>
                        <li><a class="kb-lnb-link" href="#">외부 트렌드 분석</a></li>
                        <li><a class="kb-lnb-link" href="#">경쟁사 동향 분석</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#" class="kb-lnb-link">조회통계 분석</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">조회수</a></li>
                        <li><a class="kb-lnb-link" href="#">체류시간</a></li>
                        <li><a class="kb-lnb-link" href="#">조회고객수</a></li>
                        <li><a class="kb-lnb-link" href="#">반복조회수</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#" class="kb-lnb-link">순위통계 분석</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">조회수 순위</a></li>
                        <li><a class="kb-lnb-link" href="#">체류시간 순위</a></li>
                        <li><a class="kb-lnb-link" href="#">반복조회수 순위</a></li>
                        <li><a class="kb-lnb-link" href="#">반응 순위</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#" class="kb-lnb-link">고객통계 분석</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">성별/연령별</a></li>
                        <li><a class="kb-lnb-link" href="#">자산규모별</a></li>
                        <li><a class="kb-lnb-link" href="#">PUSH등록고객 분포</a></li>
                        <li><a class="kb-lnb-link" href="#">보유상품별</a></li>
                        <li><a class="kb-lnb-link" href="#">타깃고개별</a></li>
                        <li><a class="kb-lnb-link" href="#">접촉매체별</a></li>
                        <li><a class="kb-lnb-link" href="#">시간대별</a></li>
                      </ul>
                    </li>
                    <li>
                      <a href="#" class="kb-lnb-link">경로 분석</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">유입경로</a></li>
                        <li><a class="kb-lnb-link" href="#">MAP 유입경로</a></li>
                        <li><a class="kb-lnb-link" href="#">MAP 이동경로</a></li>
                      </ul>
                    </li>
                  </ul>
                </li>
                <li>
                  <a href="#" class="kb-lnb-link"><span>분석모델관리</span></a>
                  <ul class="kb-lnb-dep2">
                    <li>
                      <a href="#" class="kb-lnb-link">모델 현황 관리</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">메뉴 1</a></li>
                      </ul>
                    </li>
                    <li><a href="#" class="kb-lnb-link">분석 모델 운영</a></li>
                  </ul>
                </li>
                <li>
                  <a href="#" class="kb-lnb-link"><span>시스템관리</span></a>
                  <ul class="kb-lnb-dep2">
                    <li>
                      <a href="#" class="kb-lnb-link">계정 관리</a>
                      <ul class="kb-lnb-dep3">
                        <li><a class="kb-lnb-link" href="#">사용자 관리</a></li>
                        <li><a class="kb-lnb-link" href="#">신청 관리</a></li>
                      </ul>
                    </li>
                    <li><a href="#" class="kb-lnb-link">메뉴 관리</a></li>
                    <li><a href="#" class="kb-lnb-link">권한 관리</a></li>
                    <li><a href="#" class="kb-lnb-link">공지사항 관리</a></li>
                  </ul>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- //사이드바 -->

        <!-- 컨텐츠 -->
        <main class="kb-content" role="main">
          <!-- 컨텐츠헤더 -->
          <div class="kb-page-title">
            <div>
              <div class="kb-title">
                <h2 class="page-tit">공지사항 등록</h2>
                <nav aria-label="breadcrumb" class="ml-auto">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#">홈</a></li>
                    <li class="breadcrumb-item"><a href="#">시스템관리</a></li>
                    <!-- 1뎁스 -->
                    <!-- <li class="breadcrumb-item"><a href="#">계정 관리</a></li> -->
                    <!-- 2뎁스 -->
                    <li class="breadcrumb-item active" aria-current="page">공지사항 관리</li>
                    <!-- 현재 페이지 -->
                  </ol>
                </nav>
              </div>
            </div>
          </div>
          <!-- //컨텐츠헤더 -->

          <!-- 컨텐츠 박스 -->
          <div class="kb-content-box">
            <div class="kb-box-inner">                            
              <h3 class="content-tit">기본정보</h3>              
              <div class="table-wrap">
                <table class="table left-table">
                  <colgroup>                                        
                    <col style="width: 15%;" />
                    <col style="width: 35%;" />
                    <col style="width: 15%;" />
                    <col style="width: 35%;" />                 
                  </colgroup>

                  <tbody>
                    <tr>
                      <th>제목 <i class="fc-red">*</i></th>
                      <td colspan="3">
                        <div class="flex">
                          <div class="form-item w-auto">
                            <div class="select custom-select">
                              <select>
                                <option value="">구분</option>
                                <option value="">선택</option>                                
                              </select>
                            </div>
                          </div>
                          <div class="form-item">
                            <div class="input w-full">
                              <input type="text" title="공지사항 제목 입력" placeholder="제목을 입력해주세요" aria-label="공지사항 제목 입력" maxlength="50"/>
                            </div>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>공지내용 <i class="fc-red">*</i></th>
                      <td colspan="3">
                        <form action="" method="POST">
                          <textarea name="text" id="ckEditor"></textarea>
                        </form>
                      </td>
                    </tr>
                    <tr>
                      <th>첨부파일</th>
                      <td colspan="3">                       
                        <div class="mt-6 flex space-between align-center">
                          <p class="fc-gray-666 flex-none fz-14">첨부파일은 최대 10MB * 5개로 허용된 파일(doc, docx, ppt, pptx, xls, xlxs, pdf)만 등록할 수 있습니다.</p>                        
                          <!-- 
                          <div>
                            <button type="button" class="btn btn-sml btn-line btn-down">전체다운로드</button>                          
                          </div>
                           -->
                        </div>   
                        <div class="mt-12 file-drop"></div>
                        <!-- 첨부된 파일 -->
                        <!-- 
                        <div class="uploaded-file">
                          <p>
                            <a href="#none">업로드한 파일명이 출력됩니다(다운로드 가능)1.pdf(1542byte)</a>
                            <button type="button" title="삭제" class="btn-del"></button>
                          </p>                        
                          <p>
                            <a href="#none">다른 업로드한 파일명123이 출력됩니다(다운로드 가능)2.pdf(1542byte)</a>
                            <button type="button" title="삭제" class="btn-del"></button>
                          </p>
                          <p>
                            <a href="#none">또 다른 업로드한 파일명123이 출력됩니다(다운로드 가능)3.pdf(1542byte)</a>
                            <button type="button" title="삭제" class="btn-del"></button>
                          </p>
                        </div>
                         -->
                      </td>
                    </tr>
                    <tr>
                      <th>게시기간 <i class="fc-red">*</i></th>
                      <td colspan="3">
                        <div class="form-item">
                          <div class="input input-date inline-flex date-single-range">
                            <input type="text" autocomplete="off" id="inqStartDate">
                            <span class="mg-6">~</span>
                            <input type="text" autocomplete="off" id="inqEndDate">
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <th>공지유형 <i class="fc-red">*</i></th>
                      <td>
                        <label class="radio sml">
                          <input type="radio" name="rdo1" checked/><i aria-hidden="true" class="lbl"></i>
                          <span>일반공지</span>
                        </label>
                        <label class="radio sml ml-12">
                          <input type="radio" name="rdo1" /><i aria-hidden="true" class="lbl"></i>
                          <span>상단공지</span>
                        </label>
                      </td>
                      <th>사용여부 <i class="fc-red">*</i></th>
                      <td>
                        <label class="radio sml">
                          <input type="radio" name="rdo2" checked/><i aria-hidden="true" class="lbl"></i>
                          <span>사용</span>
                        </label>
                        <label class="radio sml ml-12">
                          <input type="radio" name="rdo2" /><i aria-hidden="true" class="lbl"></i>
                          <span>사용안함</span>
                        </label>
                      </td>
                    </tr>
                    
                  </tbody>
                </table>
              </div>              

              <!-- 버튼 영역-->
              <div class="flex flex-01 mt-16">
                <button type="button" class="btn btn-mid btn-line">목록</button>

                <div class="ml-auto t-right">
                  <div class="common-btn-wrap">
                    <button type="button" class="btn btn-mid btn-line">초기화</button>
                    <button type="button" class="btn btn-mid btn-yellow">저장</button>
                  </div>
                </div>
              </div>
            </div>                        
          </div>
        </main>
        <!-- //컨텐츠 -->
      </div>
      <!-- //container -->
    </section>    
    <!-- //wrap -->
    <script>
      var inqParam = null;
      $(document).ready(function(){
        fnCalCall();

        if(inqParam){
          fnLoadData(inqParam['nowPage']);
          customSelect();
        }else{
          fnLoadData(1);
        }
      });

      function fnLoadData(nowPage, o){
        var rtnFlag = setInqFormRangeDateNew();
        if(!rtnFlag){
          return;
        }
      }

      function setInqFormRangeDateNew(){
        getRangeDateValue('#inqPrd','#inqStrtDt','#inqEndDt');
      }

      function fnCalCall(){
        cmmnDatePicker($("#inqStartDate"));
        cmmnDatePicker($("#inqEndDate"));
        $("#inqStartDate").val("");
        $("#inqEndDate").val("");
        $("#inqPrd").val("");
      }

      function setInqFormRangeDateNew(){
        if(!requiredCheck($("#inqPrd"))){
          $("#inqStrtDt").val(commonDatePrev1Year.format('YYYYMMDD'));
          $("#inqEndDt").val(commonDateToday.format('YYYYMMDD'));
          $("#inqStartDate").data('daterangepicker').setStartDate($("#inqStrtDt").val());
          $("#inqStartDate").data('daterangepicker').setEndDate($("#inqStrtDt").val());
          $("#inqEndDate").data('daterangepicker').setStartDate($("#inqEndDt").val());
          $("#inqEndDate").data('daterangepicker').setEndDate($("#inqEndDt").val());
        }else{
          if(inqParam){
            $("#inqStartDate").data('daterangepicker').setStartDate($("#inqStrtDt").val());
            $("#inqStartDate").data('daterangepicker').setEndDate($("#inqStrtDt").val());
            $("#inqEndDate").data('daterangepicker').setStartDate($("#inqEndDt").val());
            $("#inqEndDate").data('daterangepicker').setEndDate($("#inqEndDt").val());
            inqParam = "";
          }else{
            $("#inqStartDate").data('daterangepicker').setStartDate($("#inqStartDate").val());
            $("#inqStartDate").data('daterangepicker').setEndDate($("#inqStartDate").val());
            $("#inqEndDate").data('daterangepicker').setStartDate($("#inqEndDate").val());
            $("#inqEndDate").data('daterangepicker').setEndDate($("#inqEndDate").val());
          }
        }
        getRangeDateValueNew('#inqStartDate', '#inqEndDate', '#inqStrtDt', '#inqEndDt');
        if($('#inqStartDate').val() > $('#inqEndDate').val()){
          alertMsg("기간을 확인해주세요.", function(e){
            $('#inqStartDate').focus();
            return false;
          })
          return false;
        }
        if( getDiffDay($('#inqStartDate').data('daterangepicker').startDate._d, $('#inqEndDate').data('daterangepicker').endDate._d) > 365){
          alertMsg("조회 기간은 최대 1년까지 선택 가능합니다.", function(e){
            return false;
          },{});
          return false;
        }
        $('#inqPrd').val($('#inqStartDate').val() + " ~ " + $('#inqEndDate').val());
        return true
      }
    </script>
  </body>
</html>
