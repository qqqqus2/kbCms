<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>KB 증권 CMS</title>
    <link rel="shortcut icon" type="image/x-icon" href="/img/common/favicon.png" />

    <!-- css -->
    <link href="/css/main.css" rel="stylesheet" />

    <!-- js -->
    <script src="/js/lib/jquery-3.6.0.min.js"></script>
    <script src="/js/lib/moment.min.js"></script>
    <script src="/js/lib/datepicker/daterangepicker.js"></script>
    
    <script src="/js/pubCustom.js"></script>

</head>

<body class="sysMgt-layout sidebarInclude">
    <!-- wrap -->
    <section class="kb-wrap">
        <!-- 헤더 (퍼블용 include 입니다 개발용 include는 다시 지정하셔야 합니다) -->
        <header class="kb-navbar">
            <div class="navbar-top">
                <!-- 메뉴 열림 -->
                <button id="btnExpand" type="button" class="btn-expand">
                    <span class="sr-only">사이드 바 펼치기</span>
                </button>
                <div class="navbar-brand-wrap">
                    <a class="navbar-brand" href="../index.html" aria-label="KB 증권 콘텐츠 관리 시스템"><strong
                            class="sr-only">KB 증권 콘텐츠 관리 시스템</strong></a>
                </div>


                <ul class="navbar-nav kb-navbar-util">
                    <li class="nav-item">
                        <div class="btn-group" role="group">
                            <button id="btnDrop" type="button" class="nav-link dropdown-toggle" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <strong>김국민국민국민</strong>(KB123456)님
                            </button>
                            <!-- <div class="dropdown-menu" aria-labelledby="btnDrop">
              <a class="dropdown-item" href="#">비밀번호 변경</a>
            </div> -->
                        </div>
                    </li>
                    <li class="nav-item">
                        <button type="button" class="nav-link log-out">로그아웃</button>
                    </li>
                </ul>
            </div>
        </header>
        <!-- //헤더 -->

        <!-- container -->
        <div class="kb-container">
            <!-- 사이드바 (퍼블용 include 입니다 개발용 include는 다시 지정하셔야 합니다)-->
            <div class="kb-sidebar">
                <div class="kb-sidebar-inner" id="kb-lnb-nav">
                    <nav class="kb-lnb" aria-label="Main navigation">
                        <ul class="kb-lnb-dep1">
                            <li>
                                <a href="/html/dashboard/dashboard.html" class="kb-lnb-link"><span>대시보드</span></a>
                            </li>

                            <li>
                                <a href="#" class="kb-lnb-link"><span>콘텐츠 생성/배포</span></a>
                                <ul class="kb-lnb-dep2">
                                    <li>
                                        <a href="#" class="kb-lnb-link">콘텐츠(AEM) 작성</a>
                                    </li>
                                    <li>
                                        <a href="#" class="kb-lnb-link">콘텐츠 목록</a>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">콘텐츠 부가정보 등록</a>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">콘텐츠 사용신청</a>
                                    </li>
                                    <li>
                                        <a href="#" class="kb-lnb-link">콘텐츠 제작요청</a>
                                    </li>
                                    <li>
                                        <a href="#" class="kb-lnb-link">금지어/맞춤법 검사</a>
                                    </li>
                                </ul>
                            </li>

                            <li>
                                <a href="#" class="kb-lnb-link"><span>콘텐츠속성 관리</span></a>
                                <ul class="kb-lnb-dep2">
                                    <li>
                                        <a href="#" class="kb-lnb-link">타겟분류 관리</a>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">특성분류 관리</a>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">내용분류 관리</a>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">연관키워드 관리</a>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">언어가이드 게시판</a>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">금지어/대체어 관리</a>
                                    </li>

                                </ul>
                            </li>

                            <li>
                                <a href="#" class="kb-lnb-link"><span>모니터링</span></a>
                                <ul class="kb-lnb-dep2">
                                    <li>
                                        <a href="#" class="kb-lnb-link">모니터링 대시보드</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">전체 현황</a></li>
                                            <li><a class="kb-lnb-link" href="#">MAP별 현황</a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">콘텐츠별 현황</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">콘텐츠 공개현황</a></li>
                                            <li><a class="kb-lnb-link" href="#">콘텐츠 현황 조회</a></li>
                                            <li><a class="kb-lnb-link" href="#">콘텐츠 반응 현황</a></li>
                                            <li><a class="kb-lnb-link" href="#">콘텐츠 부서활용 현황</a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">인사이트 분석</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">내부 트렌드 분석</a></li>
                                            <li><a class="kb-lnb-link" href="#">외부 트렌드 분석</a></li>
                                            <li><a class="kb-lnb-link" href="#">경쟁사 동향 분석</a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">조회통계 분석</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">조회수</a></li>
                                            <li><a class="kb-lnb-link" href="#">체류시간</a></li>
                                            <li><a class="kb-lnb-link" href="#">조회고객수</a></li>
                                            <li><a class="kb-lnb-link" href="#">반복조회수</a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">순위통계 분석</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">조회수 순위</a></li>
                                            <li><a class="kb-lnb-link" href="#">체류시간 순위</a></li>
                                            <li><a class="kb-lnb-link" href="#">반복조회수 순위</a></li>
                                            <li><a class="kb-lnb-link" href="#">반응 순위</a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">고객통계 분석</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">성별/연령별</a></li>
                                            <li><a class="kb-lnb-link" href="#">자산규모별</a></li>
                                            <li><a class="kb-lnb-link" href="#">PUSH등록고객 분포</a></li>
                                            <li><a class="kb-lnb-link" href="#">보유상품별</a></li>
                                            <li><a class="kb-lnb-link" href="#">타겟고개별</a></li>
                                            <li><a class="kb-lnb-link" href="#">접촉매체별</a></li>
                                            <li><a class="kb-lnb-link" href="#">시간대별</a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">경로 분석</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">유입경로</a></li>
                                            <li><a class="kb-lnb-link" href="#">MAP 유입경로</a></li>
                                            <li><a class="kb-lnb-link" href="#">MAP 이동경로</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>

                            <li>
                                <a href="#" class="kb-lnb-link"><span>분석모델관리</span></a>
                                <ul class="kb-lnb-dep2">
                                    <li>
                                        <a href="#" class="kb-lnb-link">모델 현황 관리</a>
                                        <ul class="kb-lnb-dep3">
                                            <li><a class="kb-lnb-link" href="#">메뉴 1</a></li>
                                        </ul>
                                    </li>

                                    <li>
                                        <a href="#" class="kb-lnb-link">분석 모델 운영</a>
                                    </li>

                                </ul>
                            </li>

                        </ul>
                    </nav>
                </div>
            </div>
            <!-- //사이드바 -->


            <!-- 컨텐츠 -->
            <main class="kb-content" role="main">

                <!-- 컨텐츠헤더 -->
                <div class="kb-page-title">
                    <div>
                        <div class="kb-title">
                            <h2 class="page-tit">권한 관리</h2>
                            <nav aria-label="breadcrumb" class="ml-auto">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="#">홈</a></li>
                                    <li class="breadcrumb-item"><a href="#">시스템관리</a></li><!-- 1뎁스 -->
                                    <li class="breadcrumb-item active" aria-current="page">권한 관리</li><!-- 현재 페이지 -->
                                </ol>
                            </nav>
                        </div>
                    </div>
                </div>
                <!-- //컨텐츠헤더 -->

                <!-- 컨텐츠 박스 -->
                <div class="kb-content-box">
                    <div class="kb-box-inner">

                        <!-- 시스템 관리 사이드바 -->
                        <div class="sys-sidebar">
                            <h3 class="tit pt-12 pl-12 pr-12 pb-16">권한 그룹 목록</h3>
                            <div class="h-100p overflow-auto">
                                <nav class="nav-list">
                                    <ul>
                                        <li>
                                            <a href="#" class="active">최고 관리자</a>
                                        </li>
                                        <li>
                                            <a href="#">현업</a>
                                        </li>
                                        <li class="active">
                                            <a href="#">콘텐츠 생성자</a>
                                        </li>
                                        <li>
                                            <a href="#">개인화 분석자</a>
                                        </li>

                                    </ul>
                                </nav>
                            </div>
                            <div class="bottom-menu">
                                <button type="button" class="btn btn-grpDel" onclick="popOpen('#grpDelPop')">그룹
                                    삭제</button>
                                <button type="button" class="btn btn-grpAdd" onclick="popOpen('#grpRegiPop')">그룹
                                    추가</button>
                            </div>
                        </div>

                        <div class="ui_tab">
                            <div class="tab_inner">
                                <i class="tab_line" aria-hidden="true"></i>
                                <ul class="tab-list link-tab w-auto">
                                    <li class="tab"><a href="SY-02-001.html">사용자 관리</a></li>
                                    <li class="tab active"><a href="javascript:void(0)">권한 관리</a></li>
                                </ul>
                            </div>
                        </div>

                        <!-- 권한 관리 -->
                        <div class="tab_box active">
                            <div class="flex mt-28 mb-12 align-center">
                                <strong class="fz-16">그룹별 메뉴 권한목록</strong>
                            </div>
                            <div class="table-wrap inner-scroll minH-360">
                                <table class="table">
                                    <colgroup>
                                        <col style="width: 30rem;" />
                                        <col />
                                        <col />
                                        <col />
                                        <col />
                                        <col />
                                    </colgroup>
                                    <thead>
                                        <tr>
                                            <th>메뉴명</th>
                                            <th>
                                                <label class="checkbox sml">
                                                    <input type="checkbox" name="chk1" class="ui-tbl-chk-name" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                    <span>조회</span>
                                                </label>
                                            </th>
                                            <th>
                                                <label class="checkbox sml">
                                                    <input type="checkbox" name="chk2" class="ui-tbl-chk-name" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                    <span>등록/수정</span>
                                                </label>
                                            </th> 
                                            <th>
                                                <label class="checkbox sml">
                                                    <input type="checkbox" name="chk4" class="ui-tbl-chk-name" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                    <span>삭제</span>
                                                </label>
                                            </th>
                                            <th>
                                                <label class="checkbox sml">
                                                    <input type="checkbox" name="chk5" class="ui-tbl-chk-name" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                    <span>다운로드</span>
                                                </label>
                                            </th>
                                            <th>
                                                <label class="checkbox sml">
                                                    <input type="checkbox" name="chk6" class="ui-tbl-chk-name" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                    <span>전체글 보기</span>
                                                </label>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="t-left" colspan="6">
                                                <!-- 2023-09-21 메뉴 권한 형태 변경 input name과 2뎁스의 data-menutoggle의 명칭 매치 -->
                                                <label class="menu-1depth">
                                                    <input type="checkbox" name="menu-home" />
                                                    <i class="lbl">홈</i>
                                                </label>
                                            </td>
                                        </tr>
                                        <tr data-menutoggle="menu-home">
                                            <td class="t-left">
                                                <div class="menu-2depth">
                                                    <label class="checkbox sml">
                                                        <input type="checkbox" class="ui-tbl-chk" /><i
                                                            aria-hidden="true" class="lbl"></i>
                                                        <span>대시보드</span>
                                                    </label>

                                                </div>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk1" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk2" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk4" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk5" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk6" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                        </tr>

                                        <tr>
                                            <td class="t-left" colspan="6">
                                                <label class="menu-1depth">
                                                    <input type="checkbox" name="menu-monitoring" /><!-- 2023-09-21 메뉴 권한 형태 변경 input name과 2뎁스의 data-menutoggle의 명칭 매치 -->
                                                    <i class="lbl">1 뎁스 메뉴</i>
                                                </label>
                                            </td>
                                        </tr>

                                        <tr data-menutoggle="menu-monitoring">
                                            <td class="t-left">
                                                <div class="menu-2depth">
                                                    <label class="checkbox sml">
                                                        <input type="checkbox" class="ui-tbl-chk" /><i
                                                            aria-hidden="true" class="lbl"></i>
                                                        <span>2뎁스 메뉴</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk1" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk2" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk4" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk5" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk6" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                        </tr>
                                        <tr data-menutoggle="menu-monitoring">
                                            <td class="t-left">
                                                <div class="menu-3depth">
                                                    <label class="checkbox sml">
                                                        <input type="checkbox" class="ui-tbl-chk" /><i
                                                            aria-hidden="true" class="lbl"></i>
                                                        <span>3뎁스 메뉴</span>
                                                    </label>
                                                </div>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk1" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk2" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk4" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk5" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                            <td>
                                                <label class="checkbox sml only">
                                                    <input type="checkbox" name="chk6" class="ui-tbl-chk" /><i
                                                        aria-hidden="true" class="lbl"></i>
                                                </label>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="flex justify-end mt-15">
                                <button type="button" class="btn btn-mid btn-yellow">저장</button>
                            </div>
                        </div>

                    </div>
                </div>

            </main>
            <!-- //컨텐츠 -->

            <!-- 그룹삭제 팝업 -->
            <article class="modal" id="grpDelPop" tabindex="-1" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div class="alert-msg">
                                삭제하시겠습니까?
                            </div>
                        </div>
                        <div class="modal-footer">
                            <a href="#grpDelPop" class="btn pop-close">아니오</a>
                            <button type="button" class="btn">예</button>
                        </div>
                    </div>
                </div>
            </article>

            <!-- 그룹 등록 팝업 -->
            <article class="modal w-500" id="grpRegiPop" tabindex="-1" aria-hidden="true">
                <i class="modal-bg"></i>
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-head">
                            <h5 class="tit">권한그룹 등록</h5>
                            <button type="button" class="btn btn-popClose" onclick="popClose('#grpRegiPop')">팝업
                                닫기</button>
                        </div>
                        <div class="modal-body">
                            <div class="regist-grp">
                                <dl>
                                    <dt>
                                        그룹 권한 <i class="fc-red">*</i>
                                    </dt>
                                    <dd>
                                        <div class="form-item">
                                            <div class="input">
                                                <input type="text" title="" />
                                            </div>
                                        </div>
                                    </dd>
                                </dl>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn">등록</button>
                        </div>
                    </div>
                </div>
            </article>

        </div>
        <!-- //container -->


    </section>
    <!-- //wrap -->

    <script>
        //권한관리 사이드바 클릭시 active 
        $('.nav-list li a').click(function(){
            const $this = $(this);
            const li = $('.nav-list li');

            li.removeClass('active')
            $this.parent('li').addClass('active');
        });

        //2023-09-21 스크립트 추가
        $(".menu-1depth input").change(function () {
            // 체크된 체크박스의 name 가져오기
            var checkedName = $(this).attr("name");

            // 모든 tr 요소 가져오기
            var $tableRows = $("table tr");

            $(this).parents('tr').toggleClass('menu-hide');

            $tableRows.each(function () {
                var dataName = $(this).data("menutoggle");
                console.log(checkedName)
                if (dataName === checkedName) {
                    // 체크된 체크박스와 data-name이 일치하는 경우
                    $(this).toggle();
                } 
            });
        });
        
        
    </script>
</body>

</html>